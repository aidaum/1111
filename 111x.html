<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê¿ˆå¤šì´ìŒ ì§„ë¡œì²´í—˜: ìš´ë™ì„ ìˆ˜</title>
    <!-- Tailwind CSS (ìŠ¤íƒ€ì¼ë§) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons (ì•„ì´ì½˜) -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap');
        body { font-family: 'Noto Sans KR', sans-serif; }
        .fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div id="app" class="min-h-screen relative">
        <!-- ì½˜í…ì¸ ê°€ ì´ê³³ì— ë Œë”ë§ë©ë‹ˆë‹¤ -->
    </div>

    <!-- ìˆ¨ê²¨ì§„ ìº”ë²„ìŠ¤ (ìˆ˜ë£Œì¦ ìƒì„±ìš©) -->
    <canvas id="certCanvas" width="800" height="600" style="display:none;"></canvas>

    <script>
        // --- 1. ë°ì´í„° ë° ë²ˆì—­ ìë£Œ ---
        const LANGUAGES = [
            { code: 'KR', label: 'í•œêµ­ì–´', flag: 'ğŸ‡°ğŸ‡·' },
            { code: 'US', label: 'English', flag: 'ğŸ‡ºğŸ‡¸' },
            { code: 'JP', label: 'æ—¥æœ¬èª', flag: 'ğŸ‡¯ğŸ‡µ' },
            { code: 'CN', label: 'ä¸­æ–‡', flag: 'ğŸ‡¨ğŸ‡³' },
            { code: 'RU', label: 'Ğ ÑƒÑÑĞºĞ¸Ğ¹', flag: 'ğŸ‡·ğŸ‡º' },
            { code: 'VN', label: 'Tiáº¿ng Viá»‡t', flag: 'ğŸ‡»ğŸ‡³' },
        ];

        const TRANSLATIONS = {
            KR: {
                title: "ê¿ˆå¤šì´ìŒ ì§„ë¡œì²´í—˜: ìš´ë™ì„ ìˆ˜",
                placeholder_name: "ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”",
                start_btn: "ì²´í—˜ ì‹œì‘í•˜ê¸°",
                next_btn: "ë‹¤ìŒ ë‹¨ê³„",
                result_btn: "ê²°ê³¼ ë³´ê¸°",
                home_btn: "ë©”ì¸ í™”ë©´",
                score: "ì ìˆ˜",
                download_cert: "ìˆ˜ë£Œì¦ ë‹¤ìš´ë¡œë“œ",
                job_info_title: "ì§ì—… íƒêµ¬",
                simulation_title: "ì„ ìˆ˜ ìƒí™œ ì²´í—˜",
                final_result: "ê¿ˆå¤šì´ìŒ ì²´í—˜ ê²°ê³¼",
                feedback_excellent: "ì™€ìš°! ë‹¹ì‹ ì€ ì „ì„¤ì ì¸ ì„ ìˆ˜ê°€ ë  ìì§ˆì´ ìˆìŠµë‹ˆë‹¤!",
                feedback_good: "ì¢‹ì•„ìš”! ê¾¸ì¤€íˆ ë…¸ë ¥í•˜ë©´ í›Œë¥­í•œ ì„ ìˆ˜ê°€ ë  ìˆ˜ ìˆì–´ìš”.",
                feedback_effort: "ì¡°ê¸ˆ ë” ë…¸ë ¥ì´ í•„ìš”í•´ìš”. ê¸°ì´ˆ ì²´ë ¥ë¶€í„° ê¸¸ëŸ¬ë³¼ê¹Œìš”?",
                cert_title: "ê¿ˆå¤šì´ìŒ ì§„ë¡œì²´í—˜ ìˆ˜ë£Œì¦",
                cert_desc: "ìœ„ í•™ìƒì€ [ìš´ë™ì„ ìˆ˜] ì§„ë¡œ ì²´í—˜ ê³¼ì •ì„ ì„±ì‹¤íˆ ì´ìˆ˜í•˜ì˜€ìŒì„ ì¦ëª…í•©ë‹ˆë‹¤.",
                multicultural_tip_title: "ê¿ˆå¤šì´ìŒ Tip",
                feedback_correct: "ì¢‹ì€ ì„ íƒì´ì—ìš”!",
                feedback_wrong: "ì•„ì‰¬ìš´ ì„ íƒì´ì—ìš”.",
                btn_confirm: "í™•ì¸ ë° ê³„ì†í•˜ê¸°",
                date_label: "ì´ìˆ˜ì¼: "
            },
            US: {
                title: "Dream Connect Career: Athlete",
                placeholder_name: "Enter your name",
                start_btn: "Start Experience",
                next_btn: "Next Step",
                result_btn: "View Result",
                home_btn: "Main Menu",
                score: "Score",
                download_cert: "Download Certificate",
                job_info_title: "Job Exploration",
                simulation_title: "Simulation",
                final_result: "Dream Connect Result",
                feedback_excellent: "Wow! You have the potential to be a legend!",
                feedback_good: "Good! With effort, you can be great.",
                feedback_effort: "Keep trying. Let's start with basics!",
                cert_title: "Certificate of Completion",
                cert_desc: "This certifies that the student has completed the [Athlete] Career Experience.",
                multicultural_tip_title: "Dream Connect Tip",
                feedback_correct: "Great Choice!",
                feedback_wrong: "Not the best choice.",
                btn_confirm: "Confirm & Continue",
                date_label: "Date: "
            },
            JP: {
                title: "å¤¢å¤šã‚¤ã‚¦ãƒ é€²è·¯ä½“é¨“ï¼šã‚¹ãƒãƒ¼ãƒ„é¸æ‰‹",
                placeholder_name: "åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",
                start_btn: "ä½“é¨“ã‚’å§‹ã‚ã‚‹",
                next_btn: "æ¬¡ã¸",
                result_btn: "çµæœã‚’è¦‹ã‚‹",
                home_btn: "ãƒ¡ã‚¤ãƒ³ç”»é¢",
                score: "ã‚¹ã‚³ã‚¢",
                download_cert: "ä¿®äº†è¨¼ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰",
                job_info_title: "è·æ¥­æ¢æ±‚",
                simulation_title: "ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³",
                final_result: "å¤¢å¤šã‚¤ã‚¦ãƒ ä½“é¨“çµæœ",
                feedback_excellent: "ã™ã”ã„ï¼ä¼èª¬ã«ãªã‚‹ç´ è³ªãŒã‚ã‚Šã¾ã™ï¼",
                feedback_good: "ã„ã„ã§ã™ã­ï¼åŠªåŠ›ã™ã‚Œã°ç´ æ™´ã‚‰ã—ã„é¸æ‰‹ã«ãªã‚Œã¾ã™ã€‚",
                feedback_effort: "ã‚‚ã†å°‘ã—é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚åŸºç¤ã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆï¼",
                cert_title: "é€²è·¯ä½“é¨“ä¿®äº†è¨¼",
                cert_desc: "ä¸Šè¨˜ã®å­¦ç”Ÿã¯[ã‚¹ãƒãƒ¼ãƒ„é¸æ‰‹]é€²è·¯ä½“é¨“èª²ç¨‹ã‚’èª å®Ÿã«å±¥ä¿®ã—ã¾ã—ãŸã€‚",
                multicultural_tip_title: "å¤¢å¤šã‚¤ã‚¦ãƒ  Tip",
                feedback_correct: "è‰¯ã„é¸æŠã§ã™ï¼",
                feedback_wrong: "æƒœã—ã„é¸æŠã§ã™ã€‚",
                btn_confirm: "ç¢ºèªã—ã¦é€²ã‚€",
                date_label: "æ—¥ä»˜: "
            },
            CN: {
                title: "å¤šæ¢¦è¿æ¥èŒä¸šä½“éªŒï¼šè¿åŠ¨å‘˜",
                placeholder_name: "è¯·è¾“å…¥å§“å",
                start_btn: "å¼€å§‹ä½“éªŒ",
                next_btn: "ä¸‹ä¸€æ­¥",
                result_btn: "æŸ¥çœ‹ç»“æœ",
                home_btn: "ä¸»å±å¹•",
                score: "åˆ†æ•°",
                download_cert: "ä¸‹è½½è¯ä¹¦",
                job_info_title: "èŒä¸šæ¢ç´¢",
                simulation_title: "ç”Ÿæ´»ä½“éªŒ",
                final_result: "å¤šæ¢¦è¿æ¥ä½“éªŒç»“æœ",
                feedback_excellent: "å“‡ï¼ä½ æœ‰æˆä¸ºä¼ å¥‡çš„æ½œè´¨ï¼",
                feedback_good: "å¾ˆå¥½ï¼åšæŒåŠªåŠ›å°±èƒ½æˆåŠŸã€‚",
                feedback_effort: "éœ€è¦æ›´å¤šåŠªåŠ›ã€‚ä»åŸºç¡€å¼€å§‹å§ï¼",
                cert_title: "èŒä¸šä½“éªŒç»“ä¸šè¯ä¹¦",
                cert_desc: "è¯¥å­¦ç”Ÿè®¤çœŸå®Œæˆäº†[è¿åŠ¨å‘˜]èŒä¸šä½“éªŒè¯¾ç¨‹ã€‚",
                multicultural_tip_title: "å¤šæ¢¦è¿æ¥ Tip",
                feedback_correct: "å¾ˆå¥½çš„é€‰æ‹©ï¼",
                feedback_wrong: "é—æ†¾çš„é€‰æ‹©ã€‚",
                btn_confirm: "ç¡®è®¤å¹¶ç»§ç»­",
                date_label: "æ—¥æœŸ: "
            },
            RU: {
                title: "ĞšĞ°Ñ€ÑŒĞµÑ€Ğ° Dream Connect: Ğ¡Ğ¿Ğ¾Ñ€Ñ‚ÑĞ¼ĞµĞ½",
                placeholder_name: "Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ¸Ğ¼Ñ",
                start_btn: "ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ",
                next_btn: "Ğ”Ğ°Ğ»ĞµĞµ",
                result_btn: "Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚",
                home_btn: "Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ",
                score: "Ğ¡Ñ‡ĞµÑ‚",
                download_cert: "Ğ¡ĞºĞ°Ñ‡Ğ°Ñ‚ÑŒ",
                job_info_title: "ĞŸÑ€Ğ¾Ñ„ĞµÑÑĞ¸Ñ",
                simulation_title: "Ğ¡Ğ¸Ğ¼ÑƒĞ»ÑÑ†Ğ¸Ñ",
                final_result: "Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Dream Connect",
                feedback_excellent: "Ğ’Ğ°Ñƒ! ĞŸĞ¾Ñ‚ĞµĞ½Ñ†Ğ¸Ğ°Ğ» Ğ»ĞµĞ³ĞµĞ½Ğ´Ñ‹!",
                feedback_good: "Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¾! Ğ£ÑĞ¸Ğ»Ğ¸Ñ Ğ¿Ñ€Ğ¸Ğ²ĞµĞ´ÑƒÑ‚ Ğº ÑƒÑĞ¿ĞµÑ…Ñƒ.",
                feedback_effort: "ĞÑƒĞ¶Ğ½Ğ¾ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ ÑÑ‚Ğ°Ñ€Ğ°Ñ‚ÑŒÑÑ.",
                cert_title: "Ğ¡ĞµÑ€Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚",
                cert_desc: "Ğ¡Ñ‚ÑƒĞ´ĞµĞ½Ñ‚ Ğ¿Ñ€Ğ¾ÑˆĞµĞ» ĞºÑƒÑ€Ñ Ğ¾Ğ·Ğ½Ğ°ĞºĞ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ Ñ Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑĞ¸ĞµĞ¹ [Ğ¡Ğ¿Ğ¾Ñ€Ñ‚ÑĞ¼ĞµĞ½].",
                multicultural_tip_title: "Ğ¡Ğ¾Ğ²ĞµÑ‚ Dream Connect",
                feedback_correct: "ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ğ²Ñ‹Ğ±Ğ¾Ñ€!",
                feedback_wrong: "ĞĞµ Ğ»ÑƒÑ‡ÑˆĞ¸Ğ¹ Ğ²Ñ‹Ğ±Ğ¾Ñ€.",
                btn_confirm: "ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ÑŒ",
                date_label: "Ğ”Ğ°Ñ‚Ğ°: "
            },
            VN: {
                title: "Káº¿t ná»‘i Æ¯á»›c mÆ¡: Váº­n Ä‘á»™ng viÃªn",
                placeholder_name: "Nháº­p tÃªn",
                start_btn: "Báº¯t Ä‘áº§u",
                next_btn: "Tiáº¿p theo",
                result_btn: "Káº¿t quáº£",
                home_btn: "Trang chá»§",
                score: "Äiá»ƒm",
                download_cert: "Táº£i chá»©ng nháº­n",
                job_info_title: "KhÃ¡m phÃ¡",
                simulation_title: "MÃ´ phá»ng",
                final_result: "Káº¿t quáº£ Káº¿t ná»‘i Æ¯á»›c mÆ¡",
                feedback_excellent: "Wow! Báº¡n cÃ³ tá»‘ cháº¥t huyá»n thoáº¡i!",
                feedback_good: "Tá»‘t! Ná»— lá»±c sáº½ thÃ nh cÃ´ng.",
                feedback_effort: "Cáº§n cá»‘ gáº¯ng hÆ¡n.",
                cert_title: "Chá»©ng nháº­n hoÃ n thÃ nh",
                cert_desc: "Há»c sinh Ä‘Ã£ hoÃ n thÃ nh khÃ³a tráº£i nghiá»‡m nghá» [Váº­n Ä‘á»™ng viÃªn].",
                multicultural_tip_title: "Máº¹o Káº¿t ná»‘i Æ¯á»›c mÆ¡",
                feedback_correct: "Lá»±a chá»n tuyá»‡t vá»i!",
                feedback_wrong: "Lá»±a chá»n chÆ°a tá»‘t.",
                btn_confirm: "XÃ¡c nháº­n & Tiáº¿p tá»¥c",
                date_label: "NgÃ y: "
            },
        };

        const EDUCATION_CONTENT = [
            {
                id: 1,
                iconName: 'activity',
                iconColor: 'text-blue-500',
                title: { KR: "ìš´ë™ì„ ìˆ˜ëŠ” ì–´ë–¤ ì¼ì„ í•˜ë‚˜ìš”?", US: "What do athletes do?", JP: "ã‚¹ãƒãƒ¼ãƒ„é¸æ‰‹ã¯ã©ã‚“ãªä»•äº‹ã‚’ã—ã¾ã™ã‹ï¼Ÿ", CN: "è¿åŠ¨å‘˜æ˜¯åšä»€ä¹ˆçš„ï¼Ÿ", RU: "Ğ§Ñ‚Ğ¾ Ğ´ĞµĞ»Ğ°ÑÑ‚ ÑĞ¿Ğ¾Ñ€Ñ‚ÑĞ¼ĞµĞ½Ñ‹?", VN: "Váº­n Ä‘á»™ng viÃªn lÃ m cÃ´ng viá»‡c gÃ¬?" },
                desc: { KR: "ì¶•êµ¬, ì•¼êµ¬, í…Œë‹ˆìŠ¤ ë“± ê°ì¢… ê²½ê¸°ì—ì„œ ì„ ìˆ˜ë¡œ í™œì•½í•©ë‹ˆë‹¤. ì¢‹ì€ ì„±ì ì„ ë‚´ê¸° ìœ„í•´ ë§¤ì¼ ì²´ë ¥ í›ˆë ¨ê³¼ ê¸°ìˆ  í›ˆë ¨ì„ í•©ë‹ˆë‹¤. ê·œì¹™ì„ ì§€í‚¤ë©° ì •ì •ë‹¹ë‹¹í•˜ê²Œ ê²½ìŸí•©ë‹ˆë‹¤.", US: "They compete in sports. They train daily to improve skills and fitness, competing fairly according to rules.", JP: "è©¦åˆã§æ´»èºã—ã¾ã™ã€‚è‰¯ã„æˆç¸¾ã‚’å‡ºã™ãŸã‚ã«æ¯æ—¥è¨“ç·´ã‚’è¡Œã„ã€ãƒ«ãƒ¼ãƒ«ã‚’å®ˆã£ã¦æ­£ã€…å ‚ã€…ã¨ç«¶äº‰ã—ã¾ã™ã€‚", CN: "åœ¨æ¯”èµ›ä¸­ä½œä¸ºé€‰æ‰‹æ´»è·ƒã€‚ä¸ºäº†å–å¾—å¥½æˆç»©ï¼Œæ¯å¤©è¿›è¡Œè®­ç»ƒï¼Œéµå®ˆè§„åˆ™å…¬å¹³ç«äº‰ã€‚", RU: "Ğ£Ñ‡Ğ°ÑÑ‚Ğ²ÑƒÑÑ‚ Ğ² ÑĞ¾Ñ€ĞµĞ²Ğ½Ğ¾Ğ²Ğ°Ğ½Ğ¸ÑÑ…. Ğ¢Ñ€ĞµĞ½Ğ¸Ñ€ÑƒÑÑ‚ÑÑ ĞµĞ¶ĞµĞ´Ğ½ĞµĞ²Ğ½Ğ¾ Ğ¸ ÑĞ¾Ñ€ĞµĞ²Ğ½ÑƒÑÑ‚ÑÑ Ñ‡ĞµÑÑ‚Ğ½Ğ¾ Ğ¿Ğ¾ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°Ğ¼.", VN: "Thi Ä‘áº¥u thá»ƒ thao. Há» táº­p luyá»‡n hÃ ng ngÃ y vÃ  thi Ä‘áº¥u cÃ´ng báº±ng theo luáº­t." }
            },
            {
                id: 2,
                iconName: 'target',
                iconColor: 'text-red-500',
                title: { KR: "ì–´ë–¤ ëŠ¥ë ¥ì´ í•„ìš”í•œê°€ìš”?", US: "What skills are needed?", JP: "ã©ã‚“ãªèƒ½åŠ›ãŒå¿…è¦ã§ã™ã‹ï¼Ÿ", CN: "éœ€è¦ä»€ä¹ˆèƒ½åŠ›ï¼Ÿ", RU: "ĞšĞ°ĞºĞ¸Ğµ Ğ½Ğ°Ğ²Ñ‹ĞºĞ¸ Ğ½ÑƒĞ¶Ğ½Ñ‹?", VN: "Cáº§n nhá»¯ng ká»¹ nÄƒng gÃ¬?" },
                desc: { KR: "ê°•ì¸í•œ ì²´ë ¥ê³¼ ìš´ë™ ì‹ ê²½ì´ ê°€ì¥ ì¤‘ìš”í•©ë‹ˆë‹¤. ë˜í•œ ëŠì„ì—†ëŠ” í›ˆë ¨ì„ ê²¬ë””ëŠ” ì¸ë‚´ì‹¬ê³¼ íŒ€ì›ë“¤ê³¼ í˜‘ë™í•˜ëŠ” ë§ˆìŒì´ í•„ìš”í•©ë‹ˆë‹¤.", US: "Physical strength and athletic ability are key. Patience and teamwork are also essential.", JP: "å¼·é­ãªä½“åŠ›ã¨é‹å‹•ç¥çµŒãŒé‡è¦ã§ã™ã€‚å¿è€åŠ›ã¨ãƒãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚‚å¿…è¦ã§ã™ã€‚", CN: "å¼ºå¥çš„ä½“é­„å’Œè¿åŠ¨ç¥ç»æœ€é‡è¦ã€‚è¿˜éœ€è¦è€å¿ƒå’Œå›¢é˜Ÿåˆä½œç²¾ç¥ã€‚", RU: "Ğ’Ğ°Ğ¶Ğ½Ñ‹ Ñ„Ğ¸Ğ·Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ÑĞ¸Ğ»Ğ° Ğ¸ Ğ°Ñ‚Ğ»ĞµÑ‚Ğ¸Ğ·Ğ¼. Ğ¢Ğ°ĞºĞ¶Ğµ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ñ‹ Ñ‚ĞµÑ€Ğ¿ĞµĞ½Ğ¸Ğµ Ğ¸ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ½Ñ‹Ğ¹ Ğ´ÑƒÑ….", VN: "Sá»©c khá»e vÃ  nÄƒng khiáº¿u lÃ  quan trá»ng nháº¥t. Cáº§n sá»± kiÃªn nháº«n vÃ  tinh tháº§n Ä‘á»“ng Ä‘á»™i." }
            },
            {
                id: 3,
                iconName: 'book-open',
                iconColor: 'text-green-500',
                title: { KR: "ì–´ë–»ê²Œ ì¤€ë¹„í•˜ë‚˜ìš”?", US: "How to prepare?", JP: "ã©ã†ã™ã‚Œã°ãªã‚Œã¾ã™ã‹ï¼Ÿ", CN: "å¦‚ä½•å‡†å¤‡ï¼Ÿ", RU: "ĞšĞ°Ğº Ğ¿Ğ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¸Ñ‚ÑŒÑÑ?", VN: "Chuáº©n bá»‹ nhÆ° tháº¿ nÃ o?" },
                desc: { KR: "ë³´í†µ ì´ˆÂ·ì¤‘í•™êµ ë•Œ ìš´ë™ë¶€ í™œë™ì„ ì‹œì‘í•©ë‹ˆë‹¤. ì²´ìœ¡ ê³ ë“±í•™êµë‚˜ ëŒ€í•™ì˜ ì²´ìœ¡í•™ê³¼ì— ì§„í•™í•˜ì—¬ ì „ë¬¸ êµìœ¡ì„ ë°›ìŠµë‹ˆë‹¤.", US: "Usually start in school sports teams. Attend sports high schools or major in Physical Education.", JP: "é€šå¸¸ã€å°ä¸­å­¦æ ¡ã§é‹å‹•éƒ¨ã‚’å§‹ã‚ã¾ã™ã€‚ä½“è‚²é«˜æ ¡ã‚„å¤§å­¦ã®ä½“è‚²å­¦ç§‘ã«é€²å­¦ã—ã¾ã™ã€‚", CN: "é€šå¸¸åœ¨ä¸­å°å­¦å¼€å§‹è¿åŠ¨éƒ¨æ´»åŠ¨ã€‚è¿›å…¥ä½“è‚²é«˜ä¸­æˆ–å¤§å­¦æ¥å—ä¸“ä¸šæ•™è‚²ã€‚", RU: "ĞĞ°Ñ‡Ğ¸Ğ½Ğ°ÑÑ‚ Ğ² ÑˆĞºĞ¾Ğ»ÑŒĞ½Ñ‹Ñ… ÑĞµĞºÑ†Ğ¸ÑÑ…. ĞŸĞ¾ÑÑ‚ÑƒĞ¿Ğ°ÑÑ‚ Ğ² ÑĞ¿Ğ¾Ñ€Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ Ğ²ÑƒĞ·Ñ‹.", VN: "Báº¯t Ä‘áº§u tá»« Ä‘á»™i thá»ƒ thao trÆ°á»ng. Há»c trÆ°á»ng chuyÃªn thá»ƒ thao hoáº·c Ä‘áº¡i há»c TDTT." }
            },
            {
                id: 4,
                iconName: 'star',
                iconColor: 'text-yellow-500',
                title: { KR: "ì§ì—… ì „ë§ì€ ì–´ë–¤ê°€ìš”?", US: "Job Outlook", JP: "è·æ¥­ã®å±•æœ›", CN: "èŒä¸šå‰æ™¯", RU: "ĞŸĞµÑ€ÑĞ¿ĞµĞºÑ‚Ğ¸Ğ²Ñ‹", VN: "Triá»ƒn vá»ng nghá» nghiá»‡p" },
                desc: { KR: "ìŠ¤í¬ì¸  ì¸ê¸°ëŠ” ê³„ì†ë  ê²ƒì…ë‹ˆë‹¤. í”„ë¡œ ì„ ìˆ˜ê°€ ë˜ì§€ ì•Šë”ë¼ë„ ì§€ë„ì, ì‹¬íŒ ë“± ë‹¤ì–‘í•œ ê´€ë ¨ ì§ì—…ì„ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.", US: "Sports popularity will continue. Related jobs like coaches and referees are also available.", JP: "ã‚¹ãƒãƒ¼ãƒ„äººæ°—ã¯ç¶šãã§ã—ã‚‡ã†ã€‚æŒ‡å°è€…ã‚„å¯©åˆ¤ãªã©é–¢é€£è·ã«ã‚‚å°±ã‘ã¾ã™ã€‚", CN: "ä½“è‚²äººæ°”å°†æŒç»­ã€‚ä¹Ÿå¯ä»¥ä»äº‹æ•™ç»ƒã€è£åˆ¤ç­‰ç›¸å…³èŒä¸šã€‚", RU: "ĞŸĞ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ğ¾ÑÑ‚ÑŒ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑÑ. ĞœĞ¾Ğ¶Ğ½Ğ¾ ÑÑ‚Ğ°Ñ‚ÑŒ Ñ‚Ñ€ĞµĞ½ĞµÑ€Ğ¾Ğ¼ Ğ¸Ğ»Ğ¸ ÑÑƒĞ´ÑŒĞµĞ¹.", VN: "Nghá» nÃ y sáº½ tiáº¿p tá»¥c phá»• biáº¿n. CÃ³ thá»ƒ lÃ m huáº¥n luyá»‡n viÃªn hoáº·c trá»ng tÃ i." }
            }
        ];

        const SIMULATION_STEPS = [
            {
                id: 1,
                question: { KR: "ì•„ì¹¨ 6ì‹œì…ë‹ˆë‹¤. í›ˆë ¨ ì‹œê°„ì´ ë‹¤ê°€ì˜µë‹ˆë‹¤.", US: "It's 6 AM. Training time approaches." },
                options: [
                    { text: { KR: "ë²Œë–¡ ì¼ì–´ë‚˜ì„œ ìŠ¤íŠ¸ë ˆì¹­ì„ í•œë‹¤.", US: "Wake up immediately and stretch." }, score: 10, feedback: { KR: "í›Œë¥­í•´ìš”! ê·œì¹™ì ì¸ ìƒí™œì€ ìš´ë™ì„ ìˆ˜ì˜ ê¸°ë³¸ì…ë‹ˆë‹¤.", US: "Great! Discipline is key for athletes." } },
                    { text: { KR: "5ë¶„ë§Œ ë” ìë‹¤ê°€ ëŠ¦ê²Œ ì¼ì–´ë‚œë‹¤.", US: "Sleep 5 more minutes and wake up late." }, score: 5, feedback: { KR: "ì¡°ê¸ˆ ì•„ì‰½ë„¤ìš”. ì§€ê°ì€ í›ˆë ¨ì— ë°©í•´ê°€ ë©ë‹ˆë‹¤.", US: "Being late disrupts training." } },
                    { text: { KR: "ì˜¤ëŠ˜ì€ í”¼ê³¤í•˜ë‹ˆ í›ˆë ¨ì„ ì‰°ë‹¤.", US: "Skip training because I'm tired." }, score: 0, feedback: { KR: "ì•ˆë¼ìš”! ê¾¸ì¤€í•œ í›ˆë ¨ ì—†ì´ëŠ” ì„±ì¥í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.", US: "Consistency is crucial for success." } }
                ]
            },
            {
                id: 2,
                question: { KR: "ì ì‹¬ì‹œê°„ì…ë‹ˆë‹¤. ì–´ë–¤ ë©”ë‰´ë¥¼ ì„ íƒí• ê¹Œìš”?", US: "Lunch time. What menu to choose?" },
                options: [
                    { text: { KR: "ë‹¨ë°±ì§ˆê³¼ ì±„ì†Œê°€ ê· í˜• ì¡íŒ ì‹ë‹¨", US: "Balanced meal with protein and veggies." }, score: 10, feedback: { KR: "ì •ë‹µì…ë‹ˆë‹¤! ì˜ì–‘ ì„­ì·¨ëŠ” ëª¸ ê´€ë¦¬ì˜ í•µì‹¬ì…ë‹ˆë‹¤.", US: "Correct! Nutrition is vital for your body." } },
                    { text: { KR: "ë§›ìˆëŠ” í–„ë²„ê±°ì™€ ì½œë¼", US: "Delicious hamburger and cola." }, score: 0, feedback: { KR: "ê±´ê°•ì— ì¢‹ì§€ ì•Šì•„ìš”. íŒ¨ìŠ¤íŠ¸í‘¸ë“œëŠ” ì²´ë ¥ì„ ë–¨ì–´ëœ¨ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.", US: "Fast food can lower your stamina." } },
                    { text: { KR: "ë°°ê°€ ì•ˆ ê³ íŒŒì„œ êµ¶ëŠ”ë‹¤", US: "Skip meal not hungry." }, score: 3, feedback: { KR: "ë¼ë‹ˆë¥¼ ê±°ë¥´ë©´ í›ˆë ¨í•  ì—ë„ˆì§€ê°€ ë¶€ì¡±í•´ì§‘ë‹ˆë‹¤.", US: "Skipping meals leads to low energy." } }
                ]
            },
            {
                id: 3,
                question: { KR: "íŒ€ í›ˆë ¨ ì¤‘ ë™ë£Œê°€ ì‹¤ìˆ˜ë¥¼ í–ˆìŠµë‹ˆë‹¤.", US: "Teammate made a mistake during training." },
                options: [
                    { text: { KR: "ê´œì°®ì•„! ë‹¤ìŒì—” ì˜í•  ìˆ˜ ìˆì–´!", US: "It's okay! Next time will be better!" }, score: 10, feedback: { KR: "ë©‹ì§„ ë¦¬ë”ì‹­ì…ë‹ˆë‹¤! íŒ€ì›Œí¬ëŠ” ìŠ¹ë¦¬ì˜ ì§€ë¦„ê¸¸ì…ë‹ˆë‹¤.", US: "Great leadership! Teamwork leads to victory." } },
                    { text: { KR: "ë„ˆ ë•Œë¬¸ì— í›ˆë ¨ì´ ëŠê²¼ì–ì•„!", US: "You ruined the training flow!" }, score: 0, feedback: { KR: "ë¹„ë‚œì€ íŒ€ ë¶„ìœ„ê¸°ë¥¼ ë§ì¹©ë‹ˆë‹¤. ì„œë¡œ ê²©ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.", US: "Blaming hurts team spirit." } },
                    { text: { KR: "ëª¨ë¥¸ ì²™í•˜ê³  ë‚´ í›ˆë ¨ë§Œ í•œë‹¤.", US: "Ignore and focus on myself." }, score: 5, feedback: { KR: "ê°œì¸ í›ˆë ¨ë„ ì¤‘ìš”í•˜ì§€ë§Œ, ë™ë£Œë¥¼ ì±™ê¸°ëŠ” ì—¬ìœ ë„ í•„ìš”í•´ìš”.", US: "Care for your teammates too." } }
                ]
            },
            {
                id: 4,
                question: { KR: "ë°œëª©ì´ ì¡°ê¸ˆ ì•„í”•ë‹ˆë‹¤. ì–´ë–»ê²Œ í• ê¹Œìš”?", US: "Ankle hurts a little. What to do?" },
                options: [
                    { text: { KR: "ì½”ì¹˜ë‹˜ê»˜ ë§í•˜ê³  ìƒíƒœë¥¼ ì ê²€í•œë‹¤.", US: "Tell the coach and check it." }, score: 10, feedback: { KR: "í˜„ëª…í•©ë‹ˆë‹¤! ë¶€ìƒì„ ë¯¸ë¦¬ ì˜ˆë°©í•˜ëŠ” ê²ƒì´ í”„ë¡œì…ë‹ˆë‹¤.", US: "Wise! Preventing injury is professional." } },
                    { text: { KR: "ì°¸ê³  í›ˆë ¨ì„ ê³„ì†í•œë‹¤.", US: "Endure pain and continue." }, score: 3, feedback: { KR: "ìœ„í—˜í•´ìš”! ì‘ì€ í†µì¦ì´ í° ë¶€ìƒìœ¼ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.", US: "Pain can lead to serious injury." } },
                    { text: { KR: "ìš´ë™í•˜ê¸° ì‹«ì–´ì„œ ì•„í”ˆ ì²™ ì‰°ë‹¤.", US: "Pretend it hurts more to skip." }, score: 0, feedback: { KR: "ê±°ì§“ë§ì€ ì‹ ë¢°ë¥¼ ìƒê²Œ í•©ë‹ˆë‹¤. ì†”ì§í•´ì•¼ í•´ìš”.", US: "Lying breaks trust. Be honest." } }
                ]
            },
            {
                id: 5,
                question: { KR: "ê²½ê¸°ì—ì„œ ì¡ŒìŠµë‹ˆë‹¤. ê¸°ë¶„ì´ ë§¤ìš° ë‚˜ì©ë‹ˆë‹¤.", US: "Lost the game. Feeling bad." },
                options: [
                    { text: { KR: "íŒ¨ë°° ì›ì¸ì„ ë¶„ì„í•˜ê³  ë‹¤ìŒì„ ì¤€ë¹„í•œë‹¤.", US: "Analyze reasons and prepare for next." }, score: 10, feedback: { KR: "í›Œë¥­í•œ ìì„¸ì…ë‹ˆë‹¤! ì‹¤íŒ¨ëŠ” ì„±ê³µì˜ ì–´ë¨¸ë‹ˆì…ë‹ˆë‹¤.", US: "Great attitude! Failure teaches success." } },
                    { text: { KR: "ë™ë£Œë“¤ íƒ“ì„ í•˜ë©° í™”ë¥¼ ë‚¸ë‹¤.", US: "Blame teammates and get angry." }, score: 0, feedback: { KR: "ë‚¨ íƒ“ì„ í•˜ë©´ ë°œì „ì´ ì—†ìŠµë‹ˆë‹¤. ìì‹ ì„ ë¨¼ì € ëŒì•„ë³´ì„¸ìš”.", US: "Blaming stops improvement." } },
                    { text: { KR: "ìŠ¬í¼ì„œ ë°©ì— í‹€ì–´ë°•íŒë‹¤.", US: "Hide in room with sadness." }, score: 5, feedback: { KR: "ìŠ¬í¼í•  ìˆœ ìˆì§€ë§Œ, ë¹¨ë¦¬ í„¸ê³  ì¼ì–´ë‚˜ëŠ” íšŒë³µë ¥ì´ í•„ìš”í•´ìš”.", US: "Resilience is needed to bounce back." } }
                ]
            },
            {
                id: 6,
                question: { KR: "ì™¸êµ­ì¸ ì½”ì¹˜ë‹˜ì´ ì‘ì „ ì„¤ëª…ì„ í•©ë‹ˆë‹¤.", US: "Foreign coach explains strategy." },
                tip: { KR: "ğŸ’¡ [ì†Œí†µ Tip] ì–¸ì–´ê°€ ì„œíˆ´ëŸ¬ë„ ê´œì°®ì•„ìš”. ìŠ¤í¬ì¸  ìš©ì–´ëŠ” ì „ ì„¸ê³„ ê³µí†µì¸ ê²½ìš°ê°€ ë§ê³ , ë°”ë””ë­ê·€ì§€ë‚˜ ê·¸ë¦¼ìœ¼ë¡œë„ ì¶©ë¶„íˆ ì†Œí†µí•  ìˆ˜ ìˆë‹µë‹ˆë‹¤!", US: "ğŸ’¡ [Tip] Sports terms are often universal. Body language helps too!" },
                options: [
                    { text: { KR: "ì˜ ì•ˆ ë“¤ë ¤ë„ ëˆˆì¹˜ê» ì´í•´í•˜ë ¤ ë…¸ë ¥í•œë‹¤.", US: "Try to understand even if hard." }, score: 10, feedback: { KR: "ì ê·¹ì ì¸ íƒœë„ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤! ë“£ë‹¤ ë³´ë©´ ëŠ˜ê²Œ ë˜ì–´ ìˆì–´ìš”.", US: "Active attitude is important!" } },
                    { text: { KR: "ëª» ì•Œì•„ë“£ê² ìœ¼ë‹ˆ ë”´ì§“ì„ í•œë‹¤.", US: "Can't understand, do something else." }, score: 0, feedback: { KR: "í¬ê¸°í•˜ì§€ ë§ˆì„¸ìš”. ì½”ì¹˜ë‹˜ì€ ì—¬ëŸ¬ë¶„ì„ ë•ê¸° ìœ„í•´ ìˆìŠµë‹ˆë‹¤.", US: "Don't give up. Listen carefully." } },
                    { text: { KR: "í†µì—­ì‚¬ê°€ ë§í•´ì¤„ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.", US: "Wait for translator only." }, score: 5, feedback: { KR: "ê¸°ë‹¤ë¦¬ëŠ” ê²ƒë„ ë°©ë²•ì´ì§€ë§Œ, ì§ì ‘ ì†Œí†µí•˜ë ¤ëŠ” ë…¸ë ¥ì´ ë” ì¢‹ì•„ìš”.", US: "Trying to communicate directly is better." } }
                ]
            },
            {
                id: 7,
                question: { KR: "ì¤‘ìš”í•œ ê²½ê¸°ë¥¼ ì•ë‘ê³  ê¸´ì¥ì´ ë©ë‹ˆë‹¤.", US: "Nervous before a big game." },
                tip: { KR: "ğŸ’¡ [ë©˜íƒˆ Tip] ê¸´ì¥ì€ ëˆ„êµ¬ë‚˜ í•´ìš”. 'ë‚˜ëŠ” í•  ìˆ˜ ìˆë‹¤'ê³  ì£¼ë¬¸ì„ ì™¸ìš°ê±°ë‚˜ ì‹¬í˜¸í¡ì„ í¬ê²Œ í•´ë³´ì„¸ìš”. ê¸ì •ì ì¸ ìƒê°ì€ ëª¸ì„ ê°€ë³ê²Œ ë§Œë“­ë‹ˆë‹¤.", US: "ğŸ’¡ [Tip] Deep breathing and positive thinking help reduce stress." },
                options: [
                    { text: { KR: "ê¸ì •ì ì¸ ìƒê°(ì´ë¯¸ì§€ íŠ¸ë ˆì´ë‹)ì„ í•œë‹¤.", US: "Do positive image training." }, score: 10, feedback: { KR: "ì¢‹ìŠµë‹ˆë‹¤! ë¨¸ë¦¿ì†ìœ¼ë¡œ ì„±ê³µí•˜ëŠ” ëª¨ìŠµì„ ê·¸ë¦¬ë©´ ì‹¤ì œë¡œë„ ë„ì›€ì´ ë©ë‹ˆë‹¤.", US: "Visualizing success helps in reality." } },
                    { text: { KR: "ê¸´ì¥ì„ í’€ê¸° ìœ„í•´ ê²Œì„ì„ ë°¤ìƒˆ í•œë‹¤.", US: "Play games all night to relax." }, score: 0, feedback: { KR: "ì»¨ë””ì…˜ ì¡°ì ˆ ì‹¤íŒ¨! ì¶©ë¶„í•œ ìˆ˜ë©´ì´ ê°€ì¥ ì¤‘ìš”í•©ë‹ˆë‹¤.", US: "Sleep is crucial for condition." } },
                    { text: { KR: "ê·¸ëƒ¥ ì•„ë¬´ ìƒê° ì—†ì´ ë©í•˜ë‹ˆ ìˆëŠ”ë‹¤.", US: "Stay blank without thinking." }, score: 5, feedback: { KR: "ë‚˜ì˜ì§„ ì•Šì§€ë§Œ, ì ê·¹ì ìœ¼ë¡œ ë§ˆì¸ë“œ ì»¨íŠ¸ë¡¤ì„ í•´ë³´ëŠ” ê±´ ì–´ë–¨ê¹Œìš”?", US: "Try active mind control." } }
                ]
            },
            {
                id: 8,
                question: { KR: "ìƒëŒ€ ì„ ìˆ˜ê°€ ë°˜ì¹™ì„ í–ˆìŠµë‹ˆë‹¤.", US: "Opponent fouled you." },
                options: [
                    { text: { KR: "ì‹¬íŒì˜ íŒì •ì„ ê¸°ë‹¤ë¦¬ê³  ëƒ‰ì •í•¨ì„ ìœ ì§€í•œë‹¤.", US: "Wait for referee and stay calm." }, score: 10, feedback: { KR: "ìµœê³ ì˜ ë§¤ë„ˆì…ë‹ˆë‹¤! í¥ë¶„í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ìŠ¹ë¦¬ì˜ ì—´ì‡ ì…ë‹ˆë‹¤.", US: "Staying calm is key to victory." } },
                    { text: { KR: "ë‚˜ë„ ë˜‘ê°™ì´ ë°˜ì¹™ìœ¼ë¡œ ë³µìˆ˜í•œë‹¤.", US: "Revenge with a foul too." }, score: 0, feedback: { KR: "ì ˆëŒ€ ì•ˆ ë¼ìš”! ë³´ë³µ í–‰ìœ„ëŠ” í‡´ì¥ ë‹¹í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.", US: "Revenge can lead to ejection." } },
                    { text: { KR: "ì‹¬íŒì—ê²Œ ê±°ì¹ ê²Œ í•­ì˜í•œë‹¤.", US: "Argue roughly with referee." }, score: 3, feedback: { KR: "ì§€ë‚˜ì¹œ í•­ì˜ëŠ” ê²½ê³ ë¥¼ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŒì •ì„ ì¡´ì¤‘í•˜ì„¸ìš”.", US: "Respect the referee's decision." } }
                ]
            },
            {
                id: 9,
                question: { KR: "ìš´ë™ ì¥ë¹„ê°€ ë”ëŸ¬ì›Œì¡ŒìŠµë‹ˆë‹¤.", US: "Equipment got dirty." },
                options: [
                    { text: { KR: "ë‚´ ì¥ë¹„ëŠ” ë‚´ê°€ ì§ì ‘ ê¹¨ë—ì´ ë‹¦ëŠ”ë‹¤.", US: "Clean my equipment myself." }, score: 10, feedback: { KR: "í›Œë¥­í•´ìš”! ì¥ë¹„ë¥¼ ì†Œì¤‘íˆ ë‹¤ë£¨ëŠ” ê²ƒì€ ì„ ìˆ˜ì˜ ê¸°ë³¸ ìì„¸ì…ë‹ˆë‹¤.", US: "Cherishing equipment is basic." } },
                    { text: { KR: "ë¶€ëª¨ë‹˜ê»˜ ë‹¦ì•„ë‹¬ë¼ê³  í•œë‹¤.", US: "Ask parents to clean it." }, score: 5, feedback: { KR: "ìì‹ ì˜ ì¼ì€ ìŠ¤ìŠ¤ë¡œ í•˜ëŠ” ìŠµê´€ì„ ê¸¸ëŸ¬ì•¼ í•©ë‹ˆë‹¤.", US: "Do your own work." } },
                    { text: { KR: "ê·¸ëƒ¥ ë”ëŸ¬ìš´ ì±„ë¡œ ì“´ë‹¤.", US: "Use it dirty." }, score: 0, feedback: { KR: "ì¥ë¹„ ê´€ë¦¬ê°€ ì•ˆ ë˜ë©´ ê²½ê¸°ë ¥ì´ ë–¨ì–´ì§€ê±°ë‚˜ ë¶€ìƒì„ ë‹¹í•  ìˆ˜ ìˆì–´ìš”.", US: "Dirty equipment can cause injury." } }
                ]
            },
            {
                id: 10,
                question: { KR: "ì€í‡´ í›„ë¥¼ ìœ„í•´ ë¬´ì—‡ì„ í•´ì•¼ í• ê¹Œìš”?", US: "Plan for after retirement?" },
                tip: { KR: "ğŸ’¡ [ë¯¸ë˜ Tip] ìš´ë™ì„ ìˆ˜ ìƒëª…ì€ ìƒê°ë³´ë‹¤ ì§§ì„ ìˆ˜ ìˆì–´ìš”. ì œ2ì˜ ì¸ìƒì„ ìœ„í•´ ê³µë¶€, ì™¸êµ­ì–´, ì§€ë„ì ìê²©ì¦ ë“± ë‹¤ì–‘í•œ ì¤€ë¹„ë¥¼ ë¯¸ë¦¬ í•´ë‘ëŠ” ê²ƒì´ ì¢‹ì•„ìš”.", US: "ğŸ’¡ [Tip] Prepare for life after sports by studying or getting licenses." },
                options: [
                    { text: { KR: "ìš´ë™ ì™¸ì—ë„ ê³µë¶€ë‚˜ ë‹¤ë¥¸ ê¸°ìˆ ì„ ìµíŒë‹¤.", US: "Study or learn other skills." }, score: 10, feedback: { KR: "ì•„ì£¼ í˜„ëª…í•´ìš”! ë¯¸ë˜ë¥¼ ì¤€ë¹„í•˜ëŠ” ìì„¸ê°€ ë©‹ì§‘ë‹ˆë‹¤.", US: "Very wise! Preparing for the future." } },
                    { text: { KR: "ìš´ë™ë§Œ ì˜í•˜ë©´ ë˜ë‹ˆ ì‹ ê²½ ì“°ì§€ ì•ŠëŠ”ë‹¤.", US: "Only focus on sports." }, score: 0, feedback: { KR: "ìœ„í—˜í•œ ìƒê°ì´ì—ìš”. ì€í‡´ ì´í›„ì˜ ì‚¶ë„ ë§¤ìš° ê¹ë‹ˆë‹¤.", US: "Life after retirement is long." } },
                    { text: { KR: "ë‚˜ì¤‘ì— ìƒê°í•˜ê¸°ë¡œ í•˜ê³  ë¯¸ë£¬ë‹¤.", US: "Think about it later." }, score: 5, feedback: { KR: "ì§€ê¸ˆë¶€í„° ì¡°ê¸ˆì”© ìƒê°í•´ë³´ëŠ” ê²ƒì´ ì¢‹ì•„ìš”.", US: "Start thinking about it now." } }
                ]
            }
        ];

        // --- 2. ìƒíƒœ ê´€ë¦¬ (State) ---
        let state = {
            step: 0, // 0:Main, 1-4:Info, 5-14:Sim, 15:Result
            lang: 'KR',
            name: '',
            score: 0,
            showFeedbackModal: false,
            currentFeedback: null,
            currentTip: null
        };

        const TOTAL_STEPS = 15;

        // --- 3. ë Œë”ë§ í•¨ìˆ˜ ---

        // ìœ í‹¸ë¦¬í‹°: í…ìŠ¤íŠ¸ ê°€ì ¸ì˜¤ê¸°
        function t(key) {
            return TRANSLATIONS[state.lang][key] || TRANSLATIONS['US'][key] || '';
        }
        function getLangText(obj) {
            return obj[state.lang] || obj['US'] || '';
        }

        // ì•„ì´ì½˜ ë¦¬í”„ë ˆì‹œ (DOM ì—…ë°ì´íŠ¸ í›„ í˜¸ì¶œ)
        function refreshIcons() {
            lucide.createIcons();
        }

        // ë©”ì¸ ë Œë”ë§ ìŠ¤ìœ„ì¹˜
        function renderApp() {
            const app = document.getElementById('app');
            app.innerHTML = ''; // ì´ˆê¸°í™”

            if (state.step === 0) {
                app.innerHTML = renderMainScreen();
            } else if (state.step <= 4) {
                app.innerHTML = renderHeader() + renderEducationScreen();
            } else if (state.step > 4 && state.step <= 14) {
                app.innerHTML = renderHeader() + renderSimulationScreen();
                if (state.showFeedbackModal) {
                    app.innerHTML += renderFeedbackModal();
                }
            } else {
                app.innerHTML = renderHeader() + renderResultScreen();
            }
            refreshIcons();
        }

        function renderHeader() {
            const progress = Math.min(100, Math.round((state.step / TOTAL_STEPS) * 100));
            const currentFlag = LANGUAGES.find(l => l.code === state.lang).flag;
            
            return `
            <div class="fixed top-0 left-0 right-0 bg-white shadow-md z-40">
                <div class="max-w-3xl mx-auto px-4 py-3 flex justify-between items-center">
                    <div class="flex items-center gap-2">
                        <span class="font-bold text-blue-600 text-lg">${state.name}</span>
                        <span class="text-xs px-2 py-1 bg-gray-100 rounded-full">${currentFlag}</span>
                    </div>
                    <div class="flex-1 mx-4">
                        <div class="h-2 bg-gray-200 rounded-full overflow-hidden">
                            <div class="h-full bg-blue-500 transition-all duration-500 ease-out" style="width: ${progress}%"></div>
                        </div>
                        <p class="text-center text-xs text-gray-400 mt-1">${progress}%</p>
                    </div>
                    <button onclick="resetApp()" class="p-2 hover:bg-gray-100 rounded-full text-gray-600">
                        <i data-lucide="home" class="w-6 h-6"></i>
                    </button>
                </div>
            </div>
            `;
        }

        function renderMainScreen() {
            const langOptions = LANGUAGES.map(l => `<option value="${l.code}" ${state.lang === l.code ? 'selected' : ''}>${l.flag} ${l.label}</option>`).join('');
            
            return `
            <div class="min-h-screen bg-gradient-to-br from-blue-500 to-indigo-700 flex items-center justify-center p-4">
                <div class="bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full text-center relative overflow-hidden fade-in">
                    <!-- ë°°ê²½ ì¥ì‹ -->
                    <div class="absolute top-0 left-0 w-32 h-32 bg-yellow-300 rounded-full filter blur-3xl opacity-30 -translate-x-1/2 -translate-y-1/2"></div>
                    <div class="absolute bottom-0 right-0 w-32 h-32 bg-blue-300 rounded-full filter blur-3xl opacity-30 translate-x-1/2 translate-y-1/2"></div>

                    <div class="relative z-10">
                        <div class="flex justify-center mb-6">
                            <div class="bg-blue-100 p-4 rounded-full">
                                <i data-lucide="trophy" class="w-16 h-16 text-blue-600"></i>
                            </div>
                        </div>
                        <h1 class="text-2xl font-bold text-gray-800 mb-2 whitespace-pre-line">${t('title')}</h1>
                        <p class="text-gray-500 mb-8 text-sm">Global Career Experience Platform</p>
                        
                        <div class="space-y-4">
                            <div class="relative group">
                                <i data-lucide="users" class="absolute left-3 top-3.5 text-gray-400 w-5 h-5"></i>
                                <input type="text" id="nameInput" placeholder="${t('placeholder_name')}" 
                                    class="w-full pl-10 pr-4 py-3 bg-gray-50 border-2 border-gray-100 rounded-xl focus:outline-none focus:border-blue-500 transition text-gray-700"
                                    value="${state.name}" oninput="updateName(this.value)">
                            </div>

                            <div class="relative group">
                                <i data-lucide="globe" class="absolute left-3 top-3.5 text-gray-400 w-5 h-5"></i>
                                <select onchange="updateLang(this.value)" class="w-full pl-10 pr-4 py-3 bg-gray-50 border-2 border-gray-100 rounded-xl appearance-none focus:outline-none focus:border-blue-500 text-gray-700 cursor-pointer">
                                    ${langOptions}
                                </select>
                            </div>

                            <button onclick="handleStart()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-xl shadow-lg transform transition active:scale-95 flex items-center justify-center gap-2 mt-4">
                                ${t('start_btn')} <i data-lucide="arrow-right" class="w-5 h-5"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            `;
        }

        function renderEducationScreen() {
            const content = EDUCATION_CONTENT[state.step - 1];
            return `
            <div class="min-h-screen bg-gray-50 pt-24 pb-10 px-4 fade-in">
                <div class="max-w-2xl mx-auto h-full">
                    <div class="bg-white rounded-3xl p-6 md:p-8 shadow-lg min-h-[500px] flex flex-col relative">
                        <div class="flex-1">
                            <div class="flex justify-between items-center mb-6">
                                <div class="bg-blue-100 text-blue-800 px-4 py-1.5 rounded-full font-bold text-sm">${t('job_info_title')}</div>
                                <div class="text-gray-400 text-sm font-medium">${state.step} / 4</div>
                            </div>
                            
                            <div class="flex justify-center mb-8">
                                <div class="p-6 bg-blue-50 rounded-full shadow-sm ring-4 ring-blue-50">
                                    <i data-lucide="${content.iconName}" class="w-16 h-16 ${content.iconColor}"></i>
                                </div>
                            </div>
                            <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center break-keep">${getLangText(content.title)}</h2>
                            <div class="bg-gray-50 p-6 rounded-2xl">
                                <p class="text-lg text-gray-600 leading-relaxed text-center break-keep">${getLangText(content.desc)}</p>
                            </div>
                        </div>
                        <div class="mt-8">
                            <button onclick="nextStep()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-xl shadow-lg flex justify-center items-center gap-2 transition-transform active:scale-95">
                                ${t('next_btn')} <i data-lucide="arrow-right" class="w-5 h-5"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            `;
        }

        function renderSimulationScreen() {
            const scenario = SIMULATION_STEPS[state.step - 5];
            let optionsHtml = scenario.options.map((opt, idx) => {
                // escape function parameters
                const safeText = getLangText(opt.text).replace(/'/g, "\\'");
                const safeFeedbackText = getLangText(opt.feedback).replace(/'/g, "\\'");
                const hasTip = scenario.tip ? true : false;
                const safeTip = hasTip ? getLangText(scenario.tip).replace(/'/g, "\\'") : "";
                
                return `
                <button onclick="handleOptionClick(${opt.score}, '${safeFeedbackText}', ${hasTip ? `'${safeTip}'` : 'null'})" 
                    class="w-full text-left p-5 rounded-xl border-2 border-gray-100 hover:border-blue-500 hover:bg-blue-50 transition-all duration-200 group relative flex items-start gap-4 active:scale-[0.98]">
                    <div class="flex-shrink-0 w-8 h-8 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center font-bold group-hover:bg-blue-500 group-hover:text-white transition-colors mt-0.5">
                        ${String.fromCharCode(65 + idx)}
                    </div>
                    <span class="text-gray-700 font-medium group-hover:text-blue-900 text-lg leading-snug">
                        ${getLangText(opt.text)}
                    </span>
                </button>
                `;
            }).join('');

            return `
            <div class="min-h-screen bg-indigo-50 pt-24 pb-10 px-4 fade-in">
                <div class="max-w-2xl mx-auto">
                    <div class="bg-white rounded-3xl overflow-hidden shadow-xl border border-indigo-100">
                        <div class="bg-gradient-to-r from-indigo-500 to-blue-600 p-8 text-center text-white relative">
                            <span class="inline-block px-3 py-1 bg-white bg-opacity-20 rounded-full text-xs font-bold mb-2 tracking-wider">
                                ${t('simulation_title')} ${state.step - 4} / 10
                            </span>
                            <h2 class="text-xl md:text-2xl font-bold leading-snug break-keep">
                                ${getLangText(scenario.question)}
                            </h2>
                        </div>
                        <div class="p-6 md:p-8 space-y-4">
                            ${optionsHtml}
                        </div>
                    </div>
                </div>
            </div>
            `;
        }

        function renderFeedbackModal() {
            if (!state.currentFeedback) return '';
            
            let iconHtml = '';
            let titleClass = '';
            let titleText = '';

            if (state.currentFeedback.type === 'correct') {
                iconHtml = `<i data-lucide="check-circle" class="w-20 h-20 text-green-500 animate-bounce"></i>`;
                titleClass = 'text-green-600';
                titleText = t('feedback_correct');
            } else if (state.currentFeedback.type === 'soso') {
                iconHtml = `<i data-lucide="alert-circle" class="w-20 h-20 text-yellow-500"></i>`;
                titleClass = 'text-yellow-600';
                titleText = "So-So!";
            } else {
                iconHtml = `<i data-lucide="x-circle" class="w-20 h-20 text-red-500 animate-pulse"></i>`;
                titleClass = 'text-red-600';
                titleText = t('feedback_wrong');
            }

            let tipHtml = '';
            if (state.currentTip) {
                tipHtml = `
                <div class="mb-6 bg-yellow-50 border border-yellow-200 p-4 rounded-xl text-left">
                    <div class="flex items-center gap-2 mb-2 text-yellow-800 font-bold text-sm">
                        <i data-lucide="brain" class="w-4 h-4"></i> ${t('multicultural_tip_title')}
                    </div>
                    <p class="text-sm text-gray-700 leading-relaxed">${state.currentTip}</p>
                </div>
                `;
            }

            return `
            <div class="min-h-screen bg-black bg-opacity-50 fixed inset-0 z-50 flex items-center justify-center p-4">
                <div class="bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl fade-in">
                    <div class="flex justify-center mb-4">${iconHtml}</div>
                    <h3 class="text-2xl font-bold mb-2 ${titleClass}">${titleText}</h3>
                    <div class="text-xl font-bold text-gray-800 mb-4">+${state.currentFeedback.score} ${t('score')}</div>
                    <p class="text-gray-600 mb-6 bg-gray-50 p-4 rounded-xl break-keep">${state.currentFeedback.text}</p>
                    ${tipHtml}
                    <button onclick="nextStep()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-xl shadow-lg">
                        ${t('btn_confirm')}
                    </button>
                </div>
            </div>
            `;
        }

        function renderResultScreen() {
            let feedback = "";
            if (state.score >= 90) feedback = t('feedback_excellent');
            else if (state.score >= 60) feedback = t('feedback_good');
            else feedback = t('feedback_effort');

            const today = new Date().toLocaleDateString();

            return `
            <div class="min-h-screen bg-gray-50 pt-24 pb-10 px-4 fade-in">
                <div class="max-w-2xl mx-auto space-y-6">
                    <div class="bg-white rounded-3xl p-8 shadow-xl text-center border border-gray-100 relative overflow-hidden">
                        <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center justify-center gap-2">
                            <i data-lucide="medal" class="text-yellow-500"></i> ${t('final_result')}
                        </h2>
                        
                        <p class="text-lg text-gray-600 mb-8 bg-blue-50 p-4 rounded-xl break-keep">"${feedback}"</p>

                        <!-- ìˆ˜ë£Œì¦ ë¯¸ë¦¬ë³´ê¸° ì¹´ë“œ -->
                        <div class="bg-white border-4 border-double border-blue-200 p-6 rounded-lg shadow-inner mb-8 text-left relative">
                            <div class="absolute top-0 right-0 p-2 opacity-10"><i data-lucide="trophy" class="w-24 h-24"></i></div>
                            <h3 class="text-center font-bold text-xl text-blue-800 mb-4 border-b pb-2">${t('cert_title')}</h3>
                            <div class="space-y-2 text-gray-700 text-sm sm:text-base">
                                <p><strong>Name:</strong> ${state.name}</p>
                                <p><strong>Score:</strong> <span class="text-blue-600 font-bold">${state.score} / 100</span></p>
                                <p class="leading-relaxed py-2">${t('cert_desc')}</p>
                                <p class="text-right text-gray-500 text-xs mt-4">${t('date_label')} ${today}</p>
                            </div>
                            <div class="mt-4 flex justify-center">
                                <div class="w-16 h-16 border-2 border-red-300 rounded-full flex items-center justify-center text-red-300 font-bold transform -rotate-12 opacity-50">PASS</div>
                            </div>
                        </div>

                        <button onclick="downloadCertificate()" class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-4 rounded-xl shadow-md flex items-center justify-center gap-2 mb-4">
                            <i data-lucide="download" class="w-5 h-5"></i> ${t('download_cert')}
                        </button>
                        
                        <button onclick="resetApp()" class="w-full bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-3 rounded-xl">
                            ${t('home_btn')}
                        </button>
                    </div>
                </div>
            </div>
            `;
        }

        // --- 4. ì•¡ì…˜ í•¨ìˆ˜ ---
        function updateName(val) {
            state.name = val;
            renderApp();
            // í¬ì»¤ìŠ¤ ìœ ì§€
            setTimeout(()=> {
                const input = document.getElementById('nameInput');
                if(input) {
                    input.focus();
                    input.setSelectionRange(input.value.length, input.value.length);
                }
            }, 0);
        }

        function updateLang(val) {
            state.lang = val;
            renderApp();
        }

        function handleStart() {
            if (state.name.trim() === '') {
                alert(state.lang === 'KR' ? 'ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.' : 'Please enter your name.');
                return;
            }
            nextStep();
        }

        function nextStep() {
            state.step++;
            state.showFeedbackModal = false;
            state.currentFeedback = null;
            state.currentTip = null;
            window.scrollTo(0, 0);
            renderApp();
        }

        function resetApp() {
            state.step = 0;
            state.score = 0;
            state.name = '';
            renderApp();
        }

        function handleOptionClick(score, text, tip) {
            state.score += score;
            let type = 'wrong';
            if (score === 10) type = 'correct';
            else if (score > 0) type = 'soso';

            state.currentFeedback = { score, text, type };
            state.currentTip = tip; // íŒì´ ìˆìœ¼ë©´ ë¬¸ìì—´, ì—†ìœ¼ë©´ null
            state.showFeedbackModal = true;
            renderApp();
        }

        function downloadCertificate() {
            const canvas = document.getElementById('certCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');

            // ìº”ë²„ìŠ¤ ê·¸ë¦¬ê¸°
            ctx.fillStyle = '#f8fafc'; 
            ctx.fillRect(0, 0, 800, 600);
            
            // í…Œë‘ë¦¬
            ctx.strokeStyle = '#2563eb'; 
            ctx.lineWidth = 15;
            ctx.strokeRect(20, 20, 760, 560);
            ctx.strokeStyle = '#fbbf24'; 
            ctx.lineWidth = 5;
            ctx.strokeRect(35, 35, 730, 530);

            // ì œëª©
            ctx.fillStyle = '#1e3a8a';
            ctx.textAlign = 'center';
            ctx.font = 'bold 40px "Malgun Gothic", sans-serif';
            ctx.fillText('ê¿ˆå¤šì´ìŒ ì§„ë¡œì²´í—˜ ìˆ˜ë£Œì¦', 400, 120);
            
            // ë‚´ìš©
            ctx.fillStyle = '#334155';
            ctx.font = '24px "Malgun Gothic", sans-serif';
            ctx.fillText(`ì´ë¦„: ${state.name}`, 400, 220);
            ctx.fillText(`ì²´í—˜ ì§ì—…: ìš´ë™ì„ ìˆ˜`, 400, 270);
            ctx.fillText(`ìµœì¢… ì ìˆ˜: ${state.score} / 100`, 400, 320);
            
            ctx.font = '20px "Malgun Gothic", sans-serif';
            ctx.fillStyle = '#475569';
            ctx.fillText("ìœ„ í•™ìƒì€ ì§„ë¡œ ì²´í—˜ ê³¼ì •ì„ ì„±ì‹¤íˆ ì´ìˆ˜í•˜ì˜€ìŒì„ ì¦ëª…í•©ë‹ˆë‹¤.", 400, 400);
            
            // ë‚ ì§œ
            ctx.fillStyle = '#64748b';
            ctx.font = '20px "Malgun Gothic", sans-serif';
            const dateStr = new Date().toLocaleDateString();
            ctx.fillText(dateStr, 400, 500);

            // ë‹¤ìš´ë¡œë“œ
            const link = document.createElement('a');
            link.download = `ê¿ˆå¤šì´ìŒ_ìˆ˜ë£Œì¦_${state.name}.png`;
            link.href = canvas.toDataURL();
            link.click();
        }

        // ì´ˆê¸° ì‹¤í–‰
        renderApp();

    </script>
</body>
</html>
